<!DOCTYPE html>
<html>
<head>
  <title>OG Card Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@600&family=Open+Sans:wght@400&display=swap" rel="stylesheet">
  <style>
    body { 
      width: 500px; 
      padding: 15px; 
      font-family: 'Open Sans', sans-serif; 
      margin: 0; 
    }
    .header { 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      margin: 0 0 10px 0; 
    }
    h3 { 
      margin: 0; 
      font-size: 16px; 
      font-family: 'Outfit', sans-serif; 
      font-weight: 600; 
    }
    .icon { 
      font-size: 14px; 
      font-weight: bold; 
      opacity: 0; 
      transition: opacity 0.3s; 
      white-space: nowrap; 
    }
    .icon.success { color: #28a745; opacity: 1; }
    .icon.error { color: #dc3545; opacity: 1; }
    input { 
      width: 100%; 
      margin-bottom: 10px; 
      padding: 8px; 
      box-sizing: border-box; 
      border: 1px solid #ccc; 
      border-radius: 3px; 
    }
    button { 
      padding: 10px; 
      margin-bottom: 10px; 
      border: none; 
      border-radius: 3px; 
      cursor: pointer; 
      font-size: 14px; 
      font-family: 'Open Sans', sans-serif; 
    }
    #generateBtn { 
      width: 100%; 
      background: #0066cc; 
      color: white; 
    }
    #generateBtn:hover { background: #0052a3; }
    #generateBtn:disabled { background: #ccc; cursor: not-allowed; }
    .copy-buttons { 
      display: flex; 
      gap: 10px; 
    }
    #copyRenderedBtn, #copyHtmlBtn { 
      flex: 1; 
    }
    #copyRenderedBtn { 
      background: #17a2b8; 
      color: white; 
    }
    #copyRenderedBtn:hover { background: #138496; }
    #copyHtmlBtn { 
      background: #28a745; 
      color: white; 
    }
    #copyHtmlBtn:hover { background: #218838; }
    #preview { 
      border: 1px solid #e0e0e0; 
      border-radius: 5px; 
      padding: 10px; 
      max-height: 400px; 
      overflow: auto; 
      background: #f9f9f9; 
      font-size: 14px; 
      line-height: 1.4; 
      word-break: break-word; 
      margin-bottom: 10px; 
      font-family: 'Open Sans', sans-serif; 
      max-width: 600px; /* Mimic email width */
    }
    #preview h3 { 
      font-family: 'Outfit', sans-serif !important; 
      font-weight: 600 !important; 
      color: #225560 !important; 
    }
    #preview p { 
      font-family: 'Open Sans', sans-serif !important; 
      color: rgba(34, 85, 96, 0.8) !important; 
    }
    #preview p:last-child { 
      color: #225560 !important; 
    }
    #preview table { 
      width: 100% !important; 
      table-layout: fixed; /* Enforce column ratios */
    }
    #preview td:first-child { width: 33% !important; }
    #preview td:last-child { width: 67% !important; }
    #preview img { 
      width: 100% !important; 
      max-width: 200px !important; /* 1/3 scale */
      height: auto !important; 
      object-fit: cover !important; 
    }
    .status { 
      font-size: 12px; 
      color: #666; 
      margin-top: 5px; 
      font-family: 'Open Sans', sans-serif; 
      display: none; /* Hide text status now */
    }
  </style>
</head>
<body>
  <div class="header">
    <h3>Enter URL to Generate Card:</h3>
    <span id="statusIcon" class="icon"></span>
  </div>
  <input type="url" id="urlInput" placeholder="https://example.com">
  <button id="generateBtn">Generate Card</button>
  <div id="status" class="status"></div>
  <div id="preview"></div>
  <div id="copyButtons" class="copy-buttons" style="display: none;">
    <button id="copyRenderedBtn">Copy Rendered</button>
    <button id="copyHtmlBtn">Copy HTML</button>
  </div>
  <script src="popup.js"></script>
</body>
</html>